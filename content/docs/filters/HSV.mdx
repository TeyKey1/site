---
title: HTML5 Canvas Hue, Saturation and Value filter Image Tutorial
sidebar_label: HSV
hide_table_of_contents: true
slug: HSV.html
---

To apply filter to an `Konva.Node`, we have to cache it first with `cache()` function. Then apply filter with `filters()` function.

To change hue, saturation and value components of an image with Konva, we can use the `Konva.Filters.HSV`.

**Instructions**: Slide the controls to change HSV values.

For all available filters go to [Filters Documentation](/api/Konva.Filters.html).

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

<Tabs>
  <TabItem value="Vanilla" default>
```js live vanilla
import Konva from 'konva';

const stage = new Konva.Stage({
  container: 'container',
  width: window.innerWidth,
  height: window.innerHeight,
});

const layer = new Konva.Layer();
stage.add(layer);

const imageObj = new Image();
imageObj.onload = () => {
  const image = new Konva.Image({
    x: 50,
    y: 50,
    image: imageObj,
    draggable: true,
  });

  layer.add(image);

  image.cache();
  image.filters([Konva.Filters.HSV]);
  
  // create sliders
  const createSlider = (label, min, max, defaultValue, property) => {
    const container = document.createElement('div');
    container.style.position = 'absolute';
    container.style.left = '20px';
    
    const text = document.createElement('span');
    text.textContent = `${label}: `;
    container.appendChild(text);
    
    const slider = document.createElement('input');
    slider.type = 'range';
    slider.min = min;
    slider.max = max;
    slider.step = '0.1';
    slider.value = defaultValue;
    slider.style.width = '200px';
    
    slider.addEventListener('input', (e) => {
      const value = parseFloat(e.target.value);
      image[property](value);
      layer.batchDraw();
    });
    
    container.appendChild(slider);
    return container;
  };

  const hueSlider = createSlider('Hue', -180, 180, 0, 'hue');
  hueSlider.style.top = '20px';
  document.body.appendChild(hueSlider);

  const saturationSlider = createSlider('Saturation', -2, 10, 0, 'saturation');
  saturationSlider.style.top = '45px';
  document.body.appendChild(saturationSlider);

  const value = createSlider('Value', -2, 2, 0, 'value');
  value.style.top = '70px';
  document.body.appendChild(value);
};
imageObj.src = '/images/lion.png';
```
  </TabItem>
  <TabItem value="React">
```js live react
import { Stage, Layer, Image } from 'react-konva';
import { useState, useEffect } from 'react';

const App = () => {
  const [image, setImage] = useState(null);
  const [hue, setHue] = useState(0);
  const [saturation, setSaturation] = useState(0);
  const [value, setValue] = useState(0);

  useEffect(() => {
    const imageObj = new Image();
    imageObj.onload = () => {
      setImage(imageObj);
    };
    imageObj.src = '/images/lion.png';
  }, []);

  const SliderControl = ({ label, value, onChange, min, max }) => (
    <div style={{ margin: '10px' }}>
      <label>{label}: </label>
      <input
        type="range"
        min={min}
        max={max}
        step="0.1"
        value={value}
        onChange={(e) => onChange(parseFloat(e.target.value))}
        style={{ width: '200px' }}
      />
    </div>
  );

  return (
    <>
      <div style={{ position: 'absolute', top: '20px', left: '20px' }}>
        <SliderControl
          label="Hue"
          value={hue}
          onChange={setHue}
          min={-180}
          max={180}
        />
        <SliderControl
          label="Saturation"
          value={saturation}
          onChange={setSaturation}
          min={-2}
          max={10}
        />
        <SliderControl
          label="Value"
          value={value}
          onChange={setValue}
          min={-2}
          max={2}
        />
      </div>
      <Stage width={window.innerWidth} height={window.innerHeight}>
        <Layer>
          {image && (
            <Image
              x={50}
              y={50}
              image={image}
              draggable
              filters={[Konva.Filters.HSV]}
              hue={hue}
              saturation={saturation}
              value={value}
            />
          )}
        </Layer>
      </Stage>
    </>
  );
};

export default App;
```
  </TabItem>
  <TabItem value="Vue">
```js live vue
<template>
  <div>
    <div style="position: absolute; top: 20px; left: 20px">
      <div v-for="control in controls" :key="control.label" style="margin: 10px">
        <label>{{ control.label }}: </label>
        <input
          type="range"
          :min="control.min"
          :max="control.max"
          step="0.1"
          :value="control.value"
          @input="(e) => updateValue(control.prop, parseFloat(e.target.value))"
          style="width: 200px"
        />
      </div>
    </div>
    <v-stage :config="stageSize">
      <v-layer>
        <v-image
          v-if="image"
          :config="{
            x: 50,
            y: 50,
            image: image,
            draggable: true,
            filters: [Konva.Filters.HSV],
            hue: hsvValues.hue,
            saturation: hsvValues.saturation,
            value: hsvValues.value,
          }"
        />
      </v-layer>
    </v-stage>
  </div>
</template>

<script setup>
import { ref, computed } from 'vue';

const stageSize = {
  width: window.innerWidth,
  height: window.innerHeight,
};

const image = ref(null);
const hsvValues = ref({
  hue: 0,
  saturation: 0,
  value: 0,
});

const controls = computed(() => [
  { label: 'Hue', prop: 'hue', min: -180, max: 180, value: hsvValues.value.hue },
  { label: 'Saturation', prop: 'saturation', min: -2, max: 10, value: hsvValues.value.saturation },
  { label: 'Value', prop: 'value', min: -2, max: 2, value: hsvValues.value.value },
]);

const updateValue = (prop, value) => {
  hsvValues.value[prop] = value;
};

onMounted(() => {
  const imageObj = new Image();
  imageObj.onload = () => {
    image.value = imageObj;
  };
  imageObj.src = '/images/lion.png';
});
</script>
```
  </TabItem>
</Tabs>
